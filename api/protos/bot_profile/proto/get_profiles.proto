syntax = "proto3";

package profiles;

option go_package = "github.com/goriiin/kotyari-bots_backend/api/gen/grpc/profiles";

service ProfilesService {
  // Получает полную информацию о профилях по их ID.
  rpc GetProfiles(GetProfilesRequest) returns (GetProfilesResponse);

  // Проверяет существование профилей по их ID.
  // Возвращает карту, где ключ - ID профиля, а значение - true, если он существует.
  // Отсутствующие в ответе ID следует считать несуществующими.
  rpc ProfilesExist(ProfilesExistRequest) returns (ProfilesExistResponse);
}

message Profile {
  string id = 1;
  string name = 2;
  string email = 3;
  string prompt = 4;
}

// --- Новые сообщения для GetProfiles ---
message GetProfilesRequest {
  repeated string profile_ids = 1;
}

message GetProfilesResponse {
  repeated Profile profiles = 1;
}

// --- Новые сообщения для ProfilesExist ---
message ProfilesExistRequest {
  repeated string profile_ids = 1;
}

message ProfilesExistResponse {
  map<string, bool> existence_map = 1;
}
